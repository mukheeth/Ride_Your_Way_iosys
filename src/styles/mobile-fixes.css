/* ============================================
   COMPREHENSIVE MOBILE FIXES FOR ALL SCREENS
   Ensures all screens fit properly on mobile
   ============================================ */

/* Global Mobile Container Fixes */
@media (max-width: 480px) {
    /* Prevent horizontal scroll */
    html, body {
        overflow-x: hidden;
        width: 100%;
        max-width: 100vw;
        position: relative;
    }

    /* Ensure all screens respect viewport */
    .screen {
        width: 100vw;
        max-width: 100vw;
        left: 0;
        right: 0;
        position: absolute;
    }

    /* Prevent horizontal overflow on all elements */
    * {
        max-width: 100%;
        box-sizing: border-box;
    }

    /* Fix for images and media */
    img, video, iframe {
        max-width: 100%;
        height: auto;
    }

    /* Fix for all container elements */
    .screen > div,
    .screen > section,
    .screen > main,
    .screen > header {
        max-width: 100vw;
        box-sizing: border-box;
    }

    /* Auth Screen */
    #auth-screen,
    .auth-container {
        padding: var(--space-4);
        width: 100%;
        max-width: 100vw;
    }

    /* Home Screen */
    #home-screen,
    .home-container {
        width: 100%;
        max-width: 100vw;
        overflow-x: hidden;
    }

    .home-content {
        width: 100%;
        max-width: 100vw;
    }

    .booking-panel {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Profile Screen */
    .profile-content-modern,
    .driver-profile-content {
        padding: var(--space-3);
        width: 100%;
        max-width: 100vw;
    }

    /* History Screen */
    .history-content {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Support Screen */
    .support-content {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Driver Screens */
    .driver-home-screen,
    .driver-request-screen,
    .driver-pickup-screen,
    .driver-trip-screen,
    .driver-customers-screen {
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
    }

    .driver-map-container {
        width: 100%;
        max-width: 100vw;
    }

    .driver-bottom-panel {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Driver Registration */
    .registration-container {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-2);
    }

    .registration-form {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Matching Screen */
    .matching-screen,
    #matching-screen {
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
    }

    .bottom-sheet {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Rating Screen */
    .rating-screen-modern,
    .rating-content-modern {
        width: 100%;
        max-width: 100vw;
        padding: var(--space-3);
    }

    /* Driver Found & In-Ride Split Screens */
    .driver-found-screen,
    .in-ride-screen {
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
    }

    .map-half,
    .map-section {
        width: 100%;
        max-width: 100vw;
    }

    .driver-card-top,
    .ride-controls-section {
        width: 100%;
        max-width: 100vw;
    }
}

/* Extra Small Devices */
@media (max-width: 375px) {
    .screen {
        width: 100vw;
        max-width: 100vw;
    }

    /* Reduce padding further */
    .screen > * {
        padding-left: var(--space-2);
        padding-right: var(--space-2);
    }
}

/* Landscape Mode */
@media (max-height: 500px) and (orientation: landscape) {
    .screen {
        overflow-y: auto;
    }

    .onboarding-container,
    .role-selection-container {
        padding-top: var(--space-2);
        padding-bottom: var(--space-2);
    }
}

/* Prevent text selection issues */
@media (max-width: 480px) {
    .screen {
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }
}

/* Fix for iOS Safari viewport */
@supports (-webkit-touch-callout: none) {
    .screen {
        min-height: -webkit-fill-available;
    }
}

